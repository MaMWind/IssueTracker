@model IssueTracker.ViewModels.IssueView

<div class="card">
    <div class="card-header">
        <h2>
            @Model.Title
        </h2>
    </div>
    <div class="card-body">
        <h4>Status: @Model.Status</h4>
        <h4>Type: @Model.Type</h4>
        <h4>Creator: @Model.Creator.UserName</h4>
        @if (Model.Assignee != null) {
            <h4>Assignee: @Model.Assignee.UserName</h4>

        } else {
            <h4>Assignee: <a asp-controller="Issue" asp-action="Assign" asp-route-id="@Model.Id" class="btn btn-primary">Assign</a></h4>
        }
        <h4>Description:</h4>
        <p>@Model.Description</p>
        <div>
            @foreach (var message in Model.Messages) {
                <div class="card">
                    <div class="card-body">
                        <p>@message.Text</p>
                    </div>
                    <div class="card-footer">
                        <p>@message.Creator.UserName | @message.CreateDate</p>
                    </div>
                </div>    
            }
        </div>
    </div>
</div>